---
title: 开发！原神？大成功！(实现)
toc: true
date: 
cover: https://web-dcelysia-tlias.oss-cn-hangzhou.aliyuncs.com/myBlog/%E6%98%8E%E6%97%A5%E6%96%B9%E8%88%9F%E5%B0%8F%E4%BA%BA2.jpg
categories: 项目
description: 想不出来介绍了
tags: 后端
post_meta:
  page:
    date_type: both # created or updated or both 主頁文章日期是創建日或者更新日或都顯示
    date_format: relative # date/relative 顯示日期還是相對日期
    categories: true # true or false 主頁是否顯示分類
    tags: true # true or false 主頁是否顯示標籤
    label: false # true or false 顯示描述性文字
  post:
    date_type: both # created or updated or both 文章頁日期是創建日或者更新日或都顯示
    date_format: relative # date/relative 顯示日期還是相對日期
    categories: true # true or false 文章頁是否顯示分類
    tags: true # true or false 文章頁是否顯示標籤
    label: false # true or false 顯示描述性文字
copyright_author: Elysian剑彧
copyright_author_href: https://dcelysia.netlify.app/
copyright_url: https://dcelysia.netlify.app/
copyright_info: 此文章版权归Elysian剑彧所有，如有转载，请注明来自原作者

---

[此文章图片失效,可看CSDN上的文章]((https://blog.csdn.net/weixin_60660061/article/details/135818844))

在上篇文章，介绍了java版七圣召唤的大体效果,[效果展示文章](https://blog.csdn.net/weixin_60660061/article/details/135728680?spm=1001.2014.3001.5501)，这篇来讲解实现代码
这篇写了超多！写的markdown卡炸了，源码在gitee和github上面都上传了
[gitee链接](https://gitee.com/sword---yu/java-practice/tree/master/QishengZhaohuan)
[github链接](https://github.com/janyu12311/java-practice/tree/main/QishengZhaohuan)
代码总共为1500行，其实很多都是重复性代码，下面是整个游戏的所有类

{% asset_img test1.png%}

## 主函数

```java
public class Start {
    public static void main(String[] args) {
      new Frame();
    }
}
```
在Frame里要实现整个游戏的实现
## 六个角色的实现
### 我方角色
玩家角色名为**myCharacter**开头，敌方玩家由**enemyCharacter**开头，这里我建立了六个类，对应着六个角色，因为我本来是想复刻每一个角色的技能，但是最后因为太难放弃了，这里也可以简化成两个类然后分别建立3个对象
1号角色迪卢克
```java
public class myCharacter1{
    public int blood=10; //血量
    public String name="迪卢克";
    public String element= "火"; //迪卢克的属性
    public String curElement="无"; //迪卢克目前染上的元素
    public boolean ifLive=true; //是否活着
    public boolean tool=false; //是否装备狼末
    public myCharacter1() {
    }
}
```
其他两个角色也类似于这样，我这里还是复制过来看看

```java
public class myCharacter2{
    public int blood=10;
    public String name="行秋";
    public String element= "水";
    public String curElement="无";
    public boolean ifLive=true;
    public boolean tool=false;

    public myCharacter2() {
    }
}

```

```java
public class myCharacter3{
    public int blood=10;
    public String name="皇女";
    public String element= "雷";
    public String curElement="无";

    public boolean tool=false;

    public boolean ifLive=true;

    public myCharacter3() {
    }
}
```
### 敌方角色
敌方角色因为不能使用道具，所以相比我方角色少了一个装备状态

```java
public class enemyCharacter1{
    public int blood=10; //血量
    public String name="迪卢克";
    public String element= "火"; //自身属性
    public String curElement="无"; //目前的染上的元素
    public boolean ifLive=true; //是否活着
    public enemyCharacter1() {
    }
}
```

```java
public class enemyCharacter2{
    public int blood=10;
    public String name="行秋";
    public String element= "水";
    public String curElement="无";
    public boolean ifLive=true;
    public enemyCharacter2() {
    }
}
```

```java
public class enemyCharacter3{
    public int blood=10;
    public String name="皇女";
    public String element= "雷";
    public String curElement="无";
    public boolean ifLive=true;
    public enemyCharacter3() {
    }
}
```
 ## 主框架
 ### 主框架的初步设置


```java
        //设置界面宽高
        this.setSize(1380,800);
        //设置界面标题
        this.setTitle("七圣召唤");
        //设置置顶
        this.setAlwaysOnTop(false);
        //设置居中
        this.setLocationRelativeTo(null);
        //设置关闭模式
        this.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);
        //取消默认居中位置
        this.setLayout(null);
        this.getContentPane().setBackground(new Color(212,212,212));
```
### 角色添加
先把不同角色名赋给1 2 3，分别对着迪卢克行秋和皇女，之后就能见名知意
```java
    static final int DILUKE=1;
    static final int HUANGNV=3;
    static final int XINGQIU=2;
```
然后用一个int整形去判断敌我角色是谁出场
```java
    static public int myCurrent=Frame.DILUKE;
    static public int DCurrent=Frame.DILUKE;
```
之后开始建立6个角色
```java
    static myCharacter1 Mdiluke=new myCharacter1();
    static myCharacter2 Mxingqiu=new myCharacter2();
    static myCharacter3 Mhuangnv=new myCharacter3();
    static enemyCharacter1 Ddiluke=new enemyCharacter1();
    static enemyCharacter2 Dxingqiu=new enemyCharacter2();
    static enemyCharacter3 Dhuangnv=new enemyCharacter3();
```

这里添加敌方角色，要分别添加战败的图片和活着的图片，然后把战败图片先不可见，然后显示活着的图片，设置好位置
```java
        //敌方角色
        JLabel enemyCharacter1 = new JLabel(new ImageIcon("..\\QishengZhaohuan\\image\\迪卢克2.png"));
        JLabel enemyCharacter2 = new JLabel(new ImageIcon("..\\QishengZhaohuan\\image\\行秋2.png"));
        JLabel enemyCharacter3 = new JLabel(new ImageIcon("..\\QishengZhaohuan\\image\\皇女2.png"));
        //敌方死亡角色
        JLabel diedEnemyCharacter1 = new JLabel(new ImageIcon("..\\QishengZhaohuan\\image\\迪卢克阵亡.png"));
        JLabel diedEnemyCharacter2 = new JLabel(new ImageIcon("..\\QishengZhaohuan\\image\\行秋阵亡.png"));
        JLabel diedEnemyCharacter3 = new JLabel(new ImageIcon("..\\QishengZhaohuan\\image\\皇女阵亡.png"));
        diedEnemyCharacter1.setBounds(330, 40, 130, 220);
        diedEnemyCharacter2.setBounds(610, 40, 130, 220);
        diedEnemyCharacter3.setBounds(890, 40, 130, 220);
        this.getContentPane().add(diedEnemyCharacter1);
        this.getContentPane().add(diedEnemyCharacter2);
        this.getContentPane().add(diedEnemyCharacter3);
        diedEnemyCharacter1.setVisible(false);
        diedEnemyCharacter2.setVisible(false);
        diedEnemyCharacter3.setVisible(false);
        enemyCharacter1.setBounds(330, 40, 130, 220);
        enemyCharacter2.setBounds(610, 40, 130, 220);
        enemyCharacter3.setBounds(890, 40, 130, 220);
```
设置我方角色

```java
        //我方角色
        JLabel myCharacter1 = new JLabel(new ImageIcon("..\\QishengZhaohuan\\image\\迪卢克2.png"));
        JLabel myCharacter2 = new JLabel(new ImageIcon("..\\QishengZhaohuan\\image\\行秋2.png"));
        JLabel myCharacter3 = new JLabel(new ImageIcon("..\\QishengZhaohuan\\image\\皇女2.png"));
        myCharacter1.setBounds(330, 400, 130, 220);
        myCharacter2.setBounds(610, 400, 130, 220);
        myCharacter3.setBounds(890, 400, 130, 220);
        this.getContentPane().add(myCharacter1);
        this.getContentPane().add(myCharacter2);
        this.getContentPane().add(myCharacter3);
        //我方死亡角色
        JLabel diedMyCharacter1 = new JLabel(new ImageIcon("..\\QishengZhaohuan\\image\\迪卢克阵亡.png"));
        JLabel diedMyCharacter2 = new JLabel(new ImageIcon("..\\QishengZhaohuan\\image\\行秋阵亡.png"));
        JLabel diedMyCharacter3 = new JLabel(new ImageIcon("..\\QishengZhaohuan\\image\\皇女阵亡.png"));
        diedMyCharacter1.setBounds(330, 400, 130, 220);
        diedMyCharacter2.setBounds(610, 400, 130, 220);
        diedMyCharacter3.setBounds(890, 400, 130, 220);
        diedMyCharacter1.setVisible(false);
        diedMyCharacter2.setVisible(false);
        diedMyCharacter3.setVisible(false);
        this.getContentPane().add(diedMyCharacter1);
        this.getContentPane().add(diedMyCharacter2);
        this.getContentPane().add(diedMyCharacter3);
```
**显示血量** 
时刻要看到我方或者敌方的血量

```java
        //敌方血量设置
        JLabel enemyCharacter1Blood=new JLabel("剩余血量"+Ddiluke.blood);
        JLabel enemyCharacter2Blood=new JLabel("剩余血量"+Dxingqiu.blood);
        JLabel enemyCharacter3Blood=new JLabel("剩余血量"+Dhuangnv.blood);
        enemyCharacter1Blood.setFont(new Font("宋体", Font.BOLD, 13));
        enemyCharacter2Blood.setFont(new Font("宋体", Font.BOLD, 13));
        enemyCharacter3Blood.setFont(new Font("宋体", Font.BOLD, 13));
        enemyCharacter1Blood.setBorder(BorderFactory.createLineBorder(Color.RED));
        enemyCharacter2Blood.setBorder(BorderFactory.createLineBorder(Color.RED));
        enemyCharacter3Blood.setBorder(BorderFactory.createLineBorder(Color.RED));
        enemyCharacter1Blood.setBounds(250, 240, 100, 30);
        enemyCharacter2Blood.setBounds(540, 240, 100, 30);
        enemyCharacter3Blood.setBounds(810, 240, 100, 30);
        this.getContentPane().add(enemyCharacter1Blood);
        this.getContentPane().add(enemyCharacter2Blood);
        this.getContentPane().add(enemyCharacter3Blood);
```

```java
        //我方血量设置
        JLabel myCharacter1Blood=new JLabel("剩余血量"+Mdiluke.blood);
        JLabel myCharacter2Blood=new JLabel("剩余血量"+Mxingqiu.blood);
        JLabel myCharacter3Blood=new JLabel("剩余血量"+Mhuangnv.blood);
        myCharacter1Blood.setFont(new Font("宋体", Font.BOLD, 13));
        myCharacter2Blood.setFont(new Font("宋体", Font.BOLD, 13));
        myCharacter3Blood.setFont(new Font("宋体", Font.BOLD, 13));
        myCharacter1Blood.setBorder(BorderFactory.createLineBorder(Color.RED));
        myCharacter2Blood.setBorder(BorderFactory.createLineBorder(Color.RED));
        myCharacter3Blood.setBorder(BorderFactory.createLineBorder(Color.RED));
        myCharacter1Blood.setBounds(250, 600, 100, 30);
        myCharacter2Blood.setBounds(540, 600, 100, 30);
        myCharacter3Blood.setBounds(810, 600, 100, 30);
        this.getContentPane().add(myCharacter1Blood);
        this.getContentPane().add(myCharacter2Blood);
        this.getContentPane().add(myCharacter3Blood);
```
这些都挺机械化的，就是要把位置固定好，不然不好看
**角色目前染上的元素和当前出战的人物**
这里我用了6个按钮去实现 ，~~其实这个按钮本来是释放技能用的~~，然后按钮为黄色的就是当前出场角色，按钮上的元素就是当前角色染上的元素

这里创建按钮的时候的文本就是当前角色的元素
```java
    //敌方按钮
    JButton ec1=new JButton(Ddiluke.curElement);
    JButton ec2=new JButton(Dxingqiu.curElement);
    JButton ec3=new JButton(Dhuangnv.curElement);
    //我方按钮
    JButton mc1=new JButton(Mdiluke.curElement);
    JButton mc2=new JButton(Mxingqiu.curElement);
    JButton mc3=new JButton(Mhuangnv.curElement);
```

```java
        ec1.setBounds(350,265,80,30);
        this.getContentPane().add(ec1);
        ec2.setBounds(640,265,80,30);
        this.getContentPane().add(ec2);
        ec3.setBounds(920,265,80,30);
        this.getContentPane().add(ec3);

        mc1.setBounds(350,630,80,30);
        this.getContentPane().add(mc1);
        mc2.setBounds(640,630,80,30);
        this.getContentPane().add(mc2);
        mc3.setBounds(920,630,80,30);
        this.getContentPane().add(mc3);
        // 如果是当年出战角色那就更改背景颜色
        if(Frame.DCurrent==Frame.DILUKE){
            ec1.setBackground(Color.YELLOW);
        }else if(Frame.DCurrent==Frame.XINGQIU){
            ec2.setBackground(Color.YELLOW);
        }else{
            ec3.setBackground(Color.YELLOW);
        }
        if(Frame.myCurrent==Frame.DILUKE){
            mc1.setBackground(Color.YELLOW);
        }else if(Frame.myCurrent==Frame.XINGQIU){
            mc2.setBackground(Color.YELLOW);
        }else{
            mc3.setBackground(Color.YELLOW);
        }
```
### 骰子点数
每一回合开始的时候都应该投一次骰子

```java
    static public int DshaiziNums;
    static public int MshaiziNums;
    static {
        Random r=new Random();
        int tmp=r.nextInt(3);
        if(tmp!=0){
            int tmp2=r.nextInt(tools.length);
            toolsHave.add(tools[tmp2]);

        }
        DshaiziNums=r.nextInt(10)+1;
        MshaiziNums=r.nextInt(10)+1;
    }
```
这里我用了静态代码块，因为在之后在点结束本回合后骰子会进行重新刷新，所以这里只用第一次创建的时候刷新一个点数就行
因为之后会跳转到换人或者攻击界面，那时候为了显示主菜单会重新new Frame();如果不写静态代码块的话每一次攻击和换人点数都会自动刷新

```java
        // mynums是玩家的点数，dnums是敌人的点数
        myNums.setBounds(470,400,100,40);
        dNums.setBounds(470,40,100,40);
        myNums.setFont(new Font("宋体", Font.BOLD, 14));
        dNums.setFont(new Font("宋体", Font.BOLD, 14));
        this.getContentPane().add(myNums);
        this.getContentPane().add(dNums);
        dNums.setText("剩余点数为"+DshaiziNums);
        myNums.setText("剩余点数为"+MshaiziNums);
```
### 道具实现
道具是用了一个jtable去实现的	

首先建立一个道具库
里面存着道具的名字和功能
集合用来存玩家抽到的道具
```java
    static public String[] tools={"最好的伙伴!&持续3轮增加2个点数","狼末&增加伤害","蒙德土豆饼&给场上所有角色回一滴血"};
    //存储道具的数量
    static ArrayList<String> toolsHave=new ArrayList<>();
```
创建道具栏

```java
        JTable toolList;
 //道具展示文本
        Object[] tableTitles = {"道具名", "作用"};
        Object[][] tabledatas=new Object[toolsHave.size()][2];
        int index=0;
        for (String s : toolsHave) {
            String[] split = s.split("&");
            tabledatas[index][0]=split[0];
            tabledatas[index][1]=split[1];
            index++;
        }
        toolList = new JTable(tabledatas, tableTitles);
        toolList.setBounds(1050, 80, 300, 500);
        JScrollPane jScrollPane = new JScrollPane(toolList);
        jScrollPane.setBounds(1050,80,300,500);
        this.getContentPane().add(jScrollPane);
```
每次都重新读取集合里面的道具并存在道具栏里面，如果道具过多会有滑轮可以上下滑动
**道具使用按钮**

```java
 //使用道具按钮
    JButton useTool=new JButton("使用道具");
    useTool.setBounds(1150,600,120,30);
    this.getContentPane().add(useTool);
```
设置一下两张道具卡，如果使用了就可以显示出来

```java
        //设置道具
        theBestFriend = new JLabel(new ImageIcon("..\\QishengZhaohuan\\image\\最好的伙伴!2.png"));
        langM = new JLabel(new ImageIcon("..\\QishengZhaohuan\\image\\狼末2.png"));
        theBestFriend.setBounds(50, 400, 130, 180);
        langM.setBounds(200, 400, 100, 180);
```

### 牌桌
打牌就要牌桌！
牌桌也就简答的设置一下，牌桌一定要最后在设置，这样牌桌就会在所有Jlabel的下面了

```java
        //牌桌
        JLabel table = new JLabel(new ImageIcon("..\\QishengZhaohuan\\image\\牌桌2.png"));
        table.setBounds(0, 0, 1350, 680);
        this.getContentPane().add(table);

```
### 攻击换人和结束这一轮的按钮
这三个按钮是负责攻击换人和结束的功能
```java
      JButton jt1=new JButton("攻击");
      JButton jt2=new JButton("换人");
      JButton jt3=new JButton("结束这一轮");
       //设置按钮
        jt1.setBounds(320,700,90,40);
        this.getContentPane().add(jt1);
        jt2.setBounds(635,700,90,40);
        this.getContentPane().add(jt2);
        jt3.setBounds(950,700,140,40);
        this.getContentPane().add(jt3);
```
### 给按钮加上监听

```java
        jt1.addActionListener(this);
        jt2.addActionListener(this);
        jt3.addActionListener(this);
        useTool.addActionListener(this);
```

### 效果
这样，主框架就搭建好了，是这样的

![在这里插入图片描述](https://img-blog.csdnimg.cn/direct/eca45f8ae1c548e79f85d4dc19171d3b.png)
## 换人
其实换人是挺简单的，所以先讲换人
先设置一个弹窗，在换人成功的时候弹出来提醒一下玩家们
```java
    JDialog jDialog = new JDialog();
    public void showJDialog(String content) {
        if (!jDialog.isVisible()) {
            //创建一个弹框对象
            JDialog jDialog = new JDialog();
            //给弹框设置大小
            jDialog.setSize(200, 100);
            //让弹框置顶
            jDialog.setAlwaysOnTop(true);
            //让弹框居中
            jDialog.setLocationRelativeTo(null);
            //弹框不关闭永远无法操作下面的界面
            jDialog.setModal(true);

            //创建Jlabel对象管理文字并添加到弹框当中
            JLabel warning = new JLabel(content);
            warning.setBounds(0, 0, 200, 100);
            jDialog.getContentPane().add(warning);

            //让弹框展示出来
            jDialog.setVisible(true);
        }
    }
```
先设置换人界面和3个按钮，并且给3个按钮都加上一个监听

```java
    JButton change1 = new JButton("换成迪卢克");
    JButton change2 = new JButton("换成行秋");
    JButton change3 = new JButton("换成皇女");
    public changePerson() throws HeadlessException {
        //设置界面宽高
        this.setSize(600, 100);
        //设置界面标题
        this.setTitle("换人界面");
        //设置置顶
        this.setAlwaysOnTop(false);
        //设置居中
        this.setLocationRelativeTo(null);
        //设置关闭模式
        this.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);
        //取消默认居中位置
        this.setLayout(null);
        //      this.getContentPane().setBackground(new Color(255,192,203));
        this.getContentPane().setBackground(new Color(212, 212, 212));
        change1.setBounds(10, 10, 150, 50);
        change2.setBounds(190, 10, 150, 50);
        change3.setBounds(370, 10, 150, 50);

        this.getContentPane().add(change1);
        this.getContentPane().add(change2);
        this.getContentPane().add(change3);
        change1.addActionListener(this);
        change2.addActionListener(this);
        change3.addActionListener(this);
        this.setVisible(true);
    }
```
效果是这样的
![在这里插入图片描述](https://img-blog.csdnimg.cn/direct/1e29983d3f6e4d18b8603b8b4e501606.png)
点击不同的按钮换不同的人

```java
    @Override
    public void actionPerformed(ActionEvent e) {
        Object choice=e.getSource();
        if(choice==change1&&Frame.myCurrent!=1&&Frame.Mdiluke.ifLive){
            showJDialog("更换成功!");
            Frame.myCurrent=1;
            this.setVisible(false);
            new enemyFight();
        }else if(choice==change2&&Frame.myCurrent!=2&&Frame.Mxingqiu.ifLive){
            showJDialog("更换成功!");
            Frame.myCurrent=2;
            this.setVisible(false);
            new enemyFight();
        }else if(choice==change3&&Frame.myCurrent!=3&&Frame.Mhuangnv.ifLive) {
            showJDialog("更换成功!");
            Frame.myCurrent = 3;
            this.setVisible(false);
            new enemyFight();
        }
    }
```
这里new enemyFight()是敌方界面，因为我方行动完了就要敌方行动了
## 我方攻击
元素反应其实就是在攻击的时候看自己身上的元素和对方身上的元素是否能发生元素反应，所以攻击就是冗杂的if构成的

```java
   //成员变量
    myCharacter1 Mdiluke;
    myCharacter2 Mxingqiu;
    myCharacter3 Mhuangnv;
    enemyCharacter1 Ddiluke;
    enemyCharacter2 Dxingqiu;
    enemyCharacter3 Dhuangnv;
    JButton fight1 = new JButton("攻击敌方迪卢克");
    JButton fight2 = new JButton("攻击敌方行秋");
    JButton fight3 = new JButton("攻击敌方皇女");
   //这个分别是超载，火蒸法，水蒸法和普通的伤害，单独写出来就是因为如果装备狼末所有伤害都会+1
    int chaozai=3;
    int FireZhengfa=4;
    int WaterZhengfa=5;
    int pugong=2;
   //构造方法 因为这里我写攻击的想着要把角色都传过来，之后我写敌人攻击的时候想着直接
   //把角色变成static然后调用，所以敌人攻击和这里的构造方法不太一样
    public Fight(myCharacter1 mdiluke, myCharacter2 mxingqiu, myCharacter3 mhuangnv,
                 enemyCharacter1 ddiluke, enemyCharacter2 dxingqiu, enemyCharacter3 dhuangnv)
            throws HeadlessException {
        this.Mdiluke = mdiluke;
        this.Mhuangnv = mhuangnv;
        this.Mxingqiu = mxingqiu;
        this.Ddiluke = ddiluke;
        this.Dhuangnv = dhuangnv;
        this.Dxingqiu = dxingqiu;
        if(Mdiluke.tool){
            chaozai++;
            FireZhengfa++;
            WaterZhengfa++;
            pugong++;
        }
                //设置界面宽高
        this.setSize(600, 100);
        //设置界面标题
        this.setTitle("攻击界面");
        //设置置顶
        this.setAlwaysOnTop(false);
        //设置居中
        this.setLocationRelativeTo(null);
        //设置关闭模式
        this.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);
        //取消默认居中位置
        this.setLayout(null);
        //      this.getContentPane().setBackground(new Color(255,192,203));
        this.getContentPane().setBackground(new Color(212, 212, 212));
        fight1.setBounds(10, 10, 150, 50);
        fight2.setBounds(190, 10, 150, 50);
        fight3.setBounds(370, 10, 150, 50);

        this.getContentPane().add(fight1);
        this.getContentPane().add(fight2);
        this.getContentPane().add(fight3);
        fight1.addActionListener(this);
        fight2.addActionListener(this);
        fight3.addActionListener(this);
        this.setVisible(true);
    }
```
监听由于都是重复代码，所以这里就调几个来讲
在我方点击攻击之后，会判断是哪个角色进行的攻击，然后判断攻击了那个角色
例如我的迪卢克攻击了敌方迪卢克，就是这样慢慢判断触发了什么元素反应
如果攻击了死人会直接关闭，这个在效果展示那个博客也说了 ~~改不好了~~
```java
 if (Frame.myCurrent == Frame.DILUKE) {
            //攻击了敌方迪卢克
            if (choice == fight1) {
                Frame.MshaiziNums-=2;
                if (Ddiluke.curElement.equals("雷")&&Ddiluke.ifLive) {
                    Ddiluke.blood -= chaozai;
                    Ddiluke.curElement = "无";
                    //改变敌方上场角色
                    changeFightCharacter();
                    showJDialog("激发超载,你对敌方迪卢克造成了"+chaozai+"点伤害,并改变敌方上场角色");
                } else if (Ddiluke.curElement.equals("水")&&Ddiluke.ifLive) {
                    Ddiluke.blood -= FireZhengfa;
                    Ddiluke.curElement = "无";
                    showJDialog("造成蒸发,你对敌方迪卢克造成了"+FireZhengfa+"点伤害");
                } else {
                    if(Ddiluke.ifLive){
                        Ddiluke.blood -= pugong;
                        Ddiluke.curElement = Mdiluke.element;
                        showJDialog("攻击成功,你对敌方迪卢克造成了"+pugong+"点伤害");
                    }else{
                        showJDialog("请不要攻击死人");
                        System.exit(0);
                    }

                }
            }
     }
```
这里还要实现的就是超载之后会让敌方换人的操作**changeFightCharacter()**，其实也很简单
就如果是两边的话会往中间换，如果是中间的话用随机数决定换哪一边
```java
    public void changeFightCharacter() {
        if (Frame.DCurrent == 1) {
            Frame.DCurrent = 2;
        } else if (Frame.DCurrent == 3) {
            Frame.DCurrent = 2;
        } else {
            Random r = new Random();
            int tmp = r.nextInt(2);
            if (tmp == 0) {
                Frame.DCurrent--;
            } else {
                Frame.DCurrent++;
            }
        }
    }

```
之后所有判断都跟上面举例一样，这里我全贴出来，如果懒得看了可以点目录的（不想看了）跳转过去

```java
        if (Frame.myCurrent == Frame.DILUKE) {
            //攻击了敌方迪卢克
            if (choice == fight1) {
                Frame.MshaiziNums-=2;
                if (Ddiluke.curElement.equals("雷")&&Ddiluke.ifLive) {
                    Ddiluke.blood -= chaozai;
                    Ddiluke.curElement = "无";
                    //改变敌方上场角色
                    changeFightCharacter();
                    showJDialog("激发超载,你对敌方迪卢克造成了"+chaozai+"点伤害,并改变敌方上场角色");
                } else if (Ddiluke.curElement.equals("水")&&Ddiluke.ifLive) {
                    Ddiluke.blood -= FireZhengfa;
                    Ddiluke.curElement = "无";
                    showJDialog("造成蒸发,你对敌方迪卢克造成了"+FireZhengfa+"点伤害");
                } else {
                    if(Ddiluke.ifLive){
                        Ddiluke.blood -= pugong;
                        Ddiluke.curElement = Mdiluke.element;
                        showJDialog("攻击成功,你对敌方迪卢克造成了"+pugong+"点伤害");
                    }else{
                        showJDialog("请不要攻击死人");
                        System.exit(0);
                    }

                }
            }
            //攻击了敌方行秋
            if (choice == fight2) {
                Frame.MshaiziNums-=2;
                System.out.println("点击了攻击敌方行秋");
                if (Dxingqiu.curElement.equals("雷")&&Dxingqiu.ifLive) {
                    Dxingqiu.blood -= chaozai;
                    Dxingqiu.curElement = "无";
                    //改变敌方上场角色
                    changeFightCharacter();
                    showJDialog("激发超载,你对敌方行秋造成了"+chaozai+"点伤害,并改变敌方上场角色");
                } else if (Dxingqiu.curElement.equals("水")&&Dxingqiu.ifLive) {
                    Dxingqiu.blood -= FireZhengfa;
                    Dxingqiu.curElement = "无";
                    showJDialog("造成蒸发,你对敌方行秋造成了"+FireZhengfa+"点伤害");
                } else {
                    if(Dxingqiu.ifLive){
                        Dxingqiu.blood -= pugong;
                        Dxingqiu.curElement = Mdiluke.element;
                        showJDialog("攻击成功,你对敌方行秋造成了"+pugong+"点伤害");
                    }else{
                        showJDialog("请不要攻击死人");
                        System.exit(0);
                    }

                }
            }
            //攻击了敌方皇女
            if (choice == fight3) {
                Frame.MshaiziNums-=2;
                System.out.println("点击了攻击敌方皇女");
                if (Dhuangnv.curElement.equals("雷")&&Dhuangnv.ifLive) {
                    Dhuangnv.blood -= chaozai;
                    Dhuangnv.curElement = "无";
                    //改变敌方上场角色
                    changeFightCharacter();
                    showJDialog("激发超载,你对敌方皇女造成了"+chaozai+"点伤害,并改变敌方上场角色");
                    this.setVisible(false);
                    new enemyFight();
                } else if (Dhuangnv.curElement.equals("水")&&Dhuangnv.ifLive) {
                    Dhuangnv.blood -= FireZhengfa;
                    Dhuangnv.curElement = "无";
                    showJDialog("造成蒸发,你对敌方皇女造成了"+FireZhengfa+"点伤害");
                } else {
                    if(Dhuangnv.ifLive){
                        Dhuangnv.blood -= pugong;
                        Dhuangnv.curElement = Mdiluke.element;
                        showJDialog("攻击成功,你对敌方皇女造成了"+pugong+"点伤害");
                    }else{
                        showJDialog("请不要攻击死人");
                        System.exit(0);
                    }

                }
            }
        }
        //我方是行秋
        else if(Frame.myCurrent==Frame.XINGQIU){
            //攻击了敌方迪卢克
            if (choice == fight1) {
                Frame.MshaiziNums-=2;
                if (Ddiluke.curElement.equals("雷")&&Ddiluke.ifLive) {
                    System.out.println("攻击了迪卢克");
                    Ddiluke.blood -= chaozai;
                    Ddiluke.curElement = "无";
                    Dxingqiu.blood-=1;
                    showJDialog("激发感电,你对敌方迪卢克,敌方行秋分别造成了"+chaozai+"点,1点伤害");
                } else if (Ddiluke.curElement.equals("火")&&Ddiluke.ifLive) {
                    Ddiluke.blood -= WaterZhengfa;
                    Ddiluke.curElement = "无";
                    showJDialog("造成蒸发,你对敌方迪卢克造成了"+WaterZhengfa+"点伤害");
                } else {
                    if(Ddiluke.ifLive){
                        System.out.println("攻击了迪卢克");
                        Ddiluke.blood -= pugong;
                        Ddiluke.curElement = Mxingqiu.element;
                        showJDialog("攻击成功,你对敌方迪卢克造成了"+pugong+"点伤害");
                    }else{
                        showJDialog("请不要攻击死人");
                        System.exit(0);
                    }

                }
            }
            //攻击了敌方行秋
            if (choice == fight2) {
                Frame.MshaiziNums-=2;
                System.out.println("点击了攻击敌方行秋");
                if (Dxingqiu.curElement.equals("雷")&&Dxingqiu.ifLive) {
                    Dxingqiu.blood -= chaozai;
                    Dxingqiu.curElement = "无";
                    Ddiluke.blood-=1;
                    Dhuangnv.blood-=1;
                    showJDialog("激发感电,你对敌方行秋,敌方迪卢克和皇女分别造成了"+chaozai+"点,1点,1点伤害");
                } else if (Dxingqiu.curElement.equals("火")&&Dxingqiu.ifLive) {
                    Dxingqiu.blood -= WaterZhengfa;
                    Dxingqiu.curElement = "无";
                    showJDialog("造成蒸发,你对行秋造成了"+WaterZhengfa+"点伤害");
                } else {
                    if(Dxingqiu.ifLive){
                        Dxingqiu.blood -= pugong;
                        Dxingqiu.curElement = Mxingqiu.element;
                        showJDialog("攻击成功,你对敌方行秋造成了"+pugong+"点伤害");
                    }else{
                        showJDialog("请不要攻击死人");
                        System.exit(0);
                    }

                }
            }
            //攻击了敌方皇女
            if (choice == fight3) {
                Frame.MshaiziNums-=2;
                System.out.println("点击了攻击敌方皇女");
                if (Dhuangnv.curElement.equals("雷")&&Dhuangnv.ifLive) {
                    Dhuangnv.blood -= chaozai;
                    Dxingqiu.blood-=1;
                    Dhuangnv.curElement = "无";
                    showJDialog("激发感电,你对敌方皇女,行秋分别造成了"+chaozai+"点,1点伤害");
                } else if (Dhuangnv.curElement.equals("火")&&Dhuangnv.ifLive) {
                    Dhuangnv.blood -= WaterZhengfa;
                    Dhuangnv.curElement = "无";
                    showJDialog("造成蒸发,你对敌方皇女造成了"+WaterZhengfa+"点伤害");
                } else {
                    if(Dhuangnv.ifLive){
                        Dhuangnv.blood -= pugong;
                        Dhuangnv.curElement = Mxingqiu.element;
                        showJDialog("攻击成功,你对敌方皇女造成了"+pugong+"点伤害");
                    }else{
                        showJDialog("请不要攻击死人");
                        System.exit(0);
                    }

                }
            }
        }
        //当我方是皇女
        else if(Frame.myCurrent==Frame.HUANGNV){
            //攻击了敌方迪卢克
            if (choice == fight1) {
                Frame.MshaiziNums-=2;
                if (Ddiluke.curElement.equals("水")&&Ddiluke.ifLive) {
                    Ddiluke.blood -= chaozai;
                    Ddiluke.curElement = "无";
                    Dxingqiu.blood-=1;
                    showJDialog("激发感电,你对敌方迪卢克,敌方行秋分别造成了"+chaozai+"点,1点伤害");
                } else if (Ddiluke.curElement.equals("火")&&Ddiluke.ifLive) {
                    Ddiluke.blood -= chaozai;
                    Ddiluke.curElement = "无";
                    changeFightCharacter();
                    showJDialog("激发超载,你对敌方迪卢克造成了"+chaozai+"点伤害,并改变敌方上场角色");
                } else {
                    if(Ddiluke.ifLive){
                        Ddiluke.blood -= pugong;
                        Ddiluke.curElement = Mhuangnv.element;
                        showJDialog("攻击成功,你对敌方迪卢克造成了"+pugong+"点伤害");
                    }else{
                        showJDialog("请不要攻击死人");
                        System.exit(0);
                    }

                }
            }
            //攻击了敌方行秋
            if (choice == fight2) {
                Frame.MshaiziNums-=2;
                System.out.println("点击了攻击敌方行秋");
                if (Dxingqiu.curElement.equals("水")&&Dxingqiu.ifLive) {
                    Dxingqiu.blood -= chaozai;
                    Dxingqiu.curElement = "无";
                    Ddiluke.blood-=1;
                    Dhuangnv.blood-=1;
                    showJDialog("激发感电,你对敌方行秋,敌方迪卢克和皇女分别造成了"+chaozai+"点,1点,1点伤害");
                } else if (Dxingqiu.curElement.equals("火")&&Dxingqiu.ifLive) {
                    Dxingqiu.blood -= chaozai;
                    Dxingqiu.curElement = "无";
                    changeFightCharacter();
                    showJDialog("激发超载,你对敌方行秋造成了"+chaozai+"点伤害,并改变敌方上场角色");
                } else {
                    if(Dxingqiu.ifLive){
                        Dxingqiu.blood -= pugong;
                        Dxingqiu.curElement = Mhuangnv.element;
                        showJDialog("攻击成功,你对敌方行秋造成了"+pugong+"点伤害");
                    }else{
                        showJDialog("请不要攻击死人");
                        System.exit(0);
                    }

                }
            }
            //攻击了敌方皇女
            if (choice == fight3) {
                Frame.MshaiziNums-=2;
                System.out.println("点击了攻击敌方皇女");
                if (Dhuangnv.curElement.equals("水")&&Dhuangnv.ifLive) {
                    Dhuangnv.blood -= chaozai;
                    Dhuangnv.curElement = "无";
                    Dxingqiu.blood-=1;
                    showJDialog("激发感电,你对敌方皇女,行秋分别造成了"+chaozai+"点,1点伤害");
                } else if (Dhuangnv.curElement.equals("火")&&Dhuangnv.ifLive) {
                    Dhuangnv.blood -= chaozai;
                    Dhuangnv.curElement = "无";
                    changeFightCharacter();
                    showJDialog("激发超载,你对敌方皇女造成了"+chaozai+"点伤害,并改变敌方上场角色");

                } else {
                    if(Dhuangnv.ifLive){
                        Dhuangnv.blood -= pugong;
                        Dhuangnv.curElement = Mhuangnv.element;
                        showJDialog("攻击成功,你对敌方皇女造成了"+pugong+"点伤害");
                    }else{
                        showJDialog("请不要攻击死人");
                        System.exit(0);
                    }

                }
            }
        }
```
### 我方不想看了太长了（点我）
但是攻击完了之后不是关键，还要判断有没有人死了，然后打开敌人攻击界面

```java
        if(Ddiluke.blood<=0){
            Ddiluke.blood=0;
            Ddiluke.ifLive=false;
        }
        if(Dxingqiu.blood<=0){
            Dxingqiu.blood=0;
            Dxingqiu.ifLive=false;
        }
        if(Dhuangnv.blood<=0){
            Dhuangnv.blood=0;
            Dhuangnv.ifLive=false;
        }
        if(!Ddiluke.ifLive&&!Dxingqiu.ifLive&&!Dhuangnv.ifLive){
            this.setVisible(false);
            showJDialog("你赢了！");
            System.exit(0);
        }
        if(!Mdiluke.ifLive&&!Mxingqiu.ifLive&&!Mhuangnv.ifLive){
            this.setVisible(false);
            showJDialog("你输了");
            System.exit(0);
        }
        if(!Ddiluke.ifLive&&Frame.DCurrent==1){
            System.out.println("当前角色死了");
            Frame.DCurrent=2;
        }
        if(!Dxingqiu.ifLive&&Frame.DCurrent==2){
            System.out.println("当前角色死了");
            Frame.DCurrent=3;
        }
        if(!Dhuangnv.ifLive&&Frame.DCurrent==3){
            System.out.println("当前角色死了");
            Frame.DCurrent=1;
        }
        if(!Ddiluke.ifLive&&Frame.DCurrent==1){
            System.out.println("当前角色死了");
            Frame.DCurrent=2;
        }
        if(!Dxingqiu.ifLive&&Frame.DCurrent==2){
            System.out.println("当前角色死了");
            Frame.DCurrent=3;
        }
        if(!Dhuangnv.ifLive&&Frame.DCurrent==3){
            System.out.println("当前角色死了");
            Frame.DCurrent=1;
        }
        this.setVisible(false);
        new enemyFight();
```
这里我用了一个很蠢的办法让死的人让出当前位置，就一直if判断，这样死人就会把当前控制权给活人

## 敌方攻击
先看一下成员变量和构造方法
用jTextArea去展示敌人的行动

```java
    int chaozai = 3;
    int FireZhengfa = 4;
    int WaterZhengfa = 5;
    int pugong = 2;
    JFrame jFrame;
    JButton jButton = new JButton("关闭按钮");

    public enemyFight() throws HeadlessException {
        jFrame = new JFrame("敌方攻击界面");
        //设置界面宽高
        jFrame.setSize(800, 800);
        jFrame.setLocationRelativeTo(null);
        //设置界面标题
        jButton.setBounds(650, 0, 100, 30);
        jButton.addActionListener(this);
        jFrame.getContentPane().add(jButton);
        JTextArea jTextArea = new JTextArea(500, 700);
        jTextArea.setFont(new Font("宋体", Font.BOLD, 13));
        jFrame.add(jTextArea);
        //这里是判断敌人还有没有点数，有的话就继续，没有就跳过
        if(Frame.DshaiziNums>=2){
            System.out.println("显示敌方行动");
            jFrame.setVisible(true);
        }else{
             //这里是玩家放弃之后，他会进行一个重投骰子和添加道具的操作
             //这里我为了让玩家可以玩到道具把道具出现调成了2/3,就是只要tmp
             //不为0都可以随机添加一个道具
             //但除了
            if(Frame.wanjiaIsGiveup){
                Random r=new Random();
                Frame.MshaiziNums=r.nextInt(10)+1;
                Frame.DshaiziNums=r.nextInt(10)+1;
                int tmp=r.nextInt(3);
                if(tmp!=0){
                    int tmp2=r.nextInt(Frame.tools.length);
                    Frame.toolsHave.add(Frame.tools[tmp2]);
                }
                if(Frame.partnerNums!=0){
                    Frame.partnerNums--;
                    Frame.MshaiziNums+=2;
                }
            }
            Frame.wanjiaIsGiveup=false;
            jFrame.setVisible(false);
            new Frame();
            return;
        }
```
**但是在构造方法里的这个重置游戏数据的不一定会触发的，如果敌方点数大于2就会进到下面攻击或者换人操作了，所以在下面还有一个关闭按钮用来重置游戏数据的**
点击按钮后的操作

```java
 @Override
    public void actionPerformed(ActionEvent e) {
       if(Frame.wanjiaIsGiveup){
           Random r=new Random();
           Frame.MshaiziNums=r.nextInt(10)+1;
           Frame.DshaiziNums=r.nextInt(10)+1;
           int tmp=r.nextInt(3);
           if(tmp!=0){
               int tmp2=r.nextInt(Frame.tools.length);
               Frame.toolsHave.add(Frame.tools[tmp2]);
           }
           if(Frame.partnerNums!=0){
               Frame.partnerNums--;
               Frame.MshaiziNums+=2;
           }
       }
        if(!Frame.Ddiluke.ifLive&&!Frame.Dxingqiu.ifLive&&!Frame.Dhuangnv.ifLive){
            showJDialog("你赢了！");
            System.exit(0);
        }
        if(!Frame.Mdiluke.ifLive&&!Frame.Mxingqiu.ifLive&&!Frame.Mhuangnv.ifLive){
            showJDialog("你输了");
            System.exit(0);
        }
        if(Frame.Mdiluke.blood<=0){
            Frame.Mdiluke.ifLive=false;
            Frame.Mdiluke.blood=0;
        }
        if(Frame.Mxingqiu.blood<=0){
            Frame.Mxingqiu.ifLive=false;
            Frame.Mxingqiu.blood=0;
        }
        if(Frame.Mhuangnv.blood<=0){
            Frame.Mhuangnv.ifLive=false;
            Frame.Mhuangnv.blood=0;
        }
        if(!Frame.Mdiluke.ifLive&&Frame.myCurrent==1){
            Frame.myCurrent=2;
        }
        if(!Frame.Mxingqiu.ifLive&&Frame.myCurrent==2){
            Frame.myCurrent=3;
        }
        if(!Frame.Mhuangnv.ifLive&&Frame.myCurrent==3){
            Frame.myCurrent=1;
        }
        if(!Frame.Mdiluke.ifLive&&Frame.myCurrent==1){
            Frame.myCurrent=2;
        }
        if(!Frame.Mxingqiu.ifLive&&Frame.myCurrent==2){
            Frame.myCurrent=3;
        }
        if(!Frame.Mdiluke.ifLive&&Frame.myCurrent==1){
            Frame.myCurrent=2;
        }
        Object choice = e.getSource();
        if (choice == jButton) {
            jFrame.setVisible(false);
            Frame.wanjiaIsGiveup=false;
            new Frame();
        }
    }
```
**敌方超载导致我方换人的函数**

```java
    public void changeFightCharacter() {
        if (Frame.DCurrent == 1) {
            Frame.DCurrent = 2;
        } else if (Frame.DCurrent == 3) {
            Frame.DCurrent = 2;
        } else {
            Random r = new Random();
            int tmp = r.nextInt(2);
            if (tmp == 0) {
                Frame.DCurrent--;
            } else {
                Frame.DCurrent++;
            }
        }
    }
```
攻击之前会看玩家有没有放弃该回合，如果放弃该回合会一直while循环直到敌方点数小于2，如果没有就只会执行一次，换人和攻击也是2/3和1/3的概率，因为怕难度太高了
敌方换位置函数

```java
            if (tmp != 0&&Frame.Ddiluke.ifLive&&Frame.Dhuangnv.ifLive&&Frame.Dxingqiu.ifLive) {
                if (Frame.DCurrent == 1) {
                    Frame.DCurrent = 2;
                } else if (Frame.DCurrent == 3) {
                    Frame.DCurrent = 2;
                } else {
                    int tmp2 = r.nextInt(2);
                    if (tmp2 == 0) {
                        Frame.DCurrent--;
                    } else {
                        Frame.DCurrent++;
                    }
                }
```
这里就是敌方有一个人死了敌方就不会再换位置了
攻击其实跟玩家攻击一样的，就是把攻击者变成敌方，被攻击者变成自己
这里把代码贴一下，其实关键的在上面都提过了，都是重复性代码，太长跳过可以点目录

```java
  if (!Frame.wanjiaIsGiveup&&Frame.DshaiziNums>=2) {
            Frame.DshaiziNums-=2;
            int tmp = r.nextInt(3);
            //换位置
            if (tmp != 0&&Frame.Ddiluke.ifLive&&Frame.Dhuangnv.ifLive&&Frame.Dxingqiu.ifLive) {
                if (Frame.DCurrent == 1) {
                    Frame.DCurrent = 2;
                } else if (Frame.DCurrent == 3) {
                    Frame.DCurrent = 2;
                } else {
                    int tmp2 = r.nextInt(2);
                    if (tmp2 == 0) {
                        Frame.DCurrent--;
                    } else {
                        Frame.DCurrent++;
                    }
                }
                jTextArea.append("敌方进行了一次换位置\n");
            }//攻击
            else {
                int fightWho = r.nextInt(3) + 1;
                if (Frame.DshaiziNums < 2) {
                    Frame.EgiveUp = true;
                    jTextArea.append("敌方放弃这回合\n");
                } else {
                    if(Frame.DCurrent==1&&!Frame.Ddiluke.ifLive){
                        Frame.DCurrent=2;
                    }
                    if(Frame.DCurrent==2&&!Frame.Dxingqiu.ifLive){
                        Frame.DCurrent=3;
                    }
                    if (Frame.DCurrent == Frame.DILUKE) {
                        //攻击了敌方迪卢克
                        if (fightWho == 1) {
                            if (Frame.Mdiluke.curElement.equals("雷") && Frame.Mdiluke.ifLive) {
                                Frame.Mdiluke.blood -= chaozai;
                                Frame.Mdiluke.curElement = "无";
                                //改变敌方上场角色
                                changeFightCharacter();
                                jTextArea.append("激发超载,敌方对你迪卢克造成了" + chaozai + "点伤害,并改变你上场角色\n");
                            } else if (Frame.Mdiluke.curElement.equals("水") && Frame.Mdiluke.ifLive) {
                                Frame.Mdiluke.blood -= FireZhengfa;
                                Frame.Mdiluke.curElement = "无";
                                jTextArea.append("造成蒸发,敌方对你迪卢克造成了" + FireZhengfa + "点伤害\n");
                            } else {
                                if (Frame.Mdiluke.ifLive) {
                                    Frame.Mdiluke.blood -= pugong;
                                    Frame.Mdiluke.curElement = Frame.Ddiluke.element;
                                    jTextArea.append("攻击成功,敌方对你迪卢克造成了" + pugong + "点伤害\n");
                                }
                            }
                        }
                        //攻击了敌方行秋
                        if (fightWho == 2) {
                            System.out.println("点击了攻击敌方行秋");
                            if (Frame.Mxingqiu.curElement.equals("雷") && Frame.Mxingqiu.ifLive) {
                                Frame.Mxingqiu.blood -= chaozai;
                                Frame.Mxingqiu.curElement = "无";
                                //改变敌方上场角色
                                changeFightCharacter();
                                jTextArea.append("激发超载,敌方对你的行秋造成了" + chaozai + "点伤害,并改变你的上场角色\n");
                            } else if (Frame.Mxingqiu.curElement.equals("水") && Frame.Mxingqiu.ifLive) {
                                Frame.Mxingqiu.blood -= FireZhengfa;
                                Frame.Mxingqiu.curElement = "无";
                                jTextArea.append("造成蒸发,敌方对你的行秋造成了" + FireZhengfa + "点伤害\n");
                            } else {
                                if (Frame.Mxingqiu.ifLive) {
                                    Frame.Mxingqiu.blood -= pugong;
                                    Frame.Mxingqiu.curElement = Frame.Dxingqiu.element;
                                    jTextArea.append("攻击成功,敌方对你的行秋造成了" + pugong + "\n");
                                }

                            }
                        }
                        //攻击了敌方皇女
                        if (fightWho == 3) {
                            System.out.println("点击了攻击敌方皇女");
                            if (Frame.Mhuangnv.curElement.equals("雷") && Frame.Mhuangnv.ifLive) {
                                Frame.Mhuangnv.blood -= chaozai;
                                Frame.Mhuangnv.curElement = "无";
                                //改变敌方上场角色
                                changeFightCharacter();
                                jTextArea.append("激发超载,敌方对你皇女造成了" + chaozai + "点伤害,并改变你的上场角色\n");
                            } else if (Frame.Mhuangnv.curElement.equals("水") && Frame.Mhuangnv.ifLive) {
                                Frame.Mhuangnv.blood -= FireZhengfa;
                                Frame.Mhuangnv.curElement = "无";
                                jTextArea.append("造成蒸发,敌方对你的皇女造成了" + FireZhengfa + "点伤害\n");
                            } else {
                                if (Frame.Mhuangnv.ifLive) {
                                    Frame.Mhuangnv.blood -= pugong;
                                    Frame.Mhuangnv.curElement = Frame.Ddiluke.element;
                                    jTextArea.append("攻击成功,敌方对你的皇女造成了" + pugong + "点伤害\n");
                                }

                            }
                        }
                    } else if (Frame.DCurrent == Frame.XINGQIU) {
                        //攻击了敌方迪卢克
                        if (fightWho == 1) {
                            if (Frame.Mdiluke.curElement.equals("雷") && Frame.Mdiluke.ifLive) {
                                Frame.Mdiluke.blood -= chaozai;
                                Frame.Mdiluke.curElement = "无";
                                Frame.Mxingqiu.blood -= 1;
                                jTextArea.append("激发感电,敌方对你的迪卢克,行秋分别造成了" + chaozai + "点,1点伤害\n");
                            } else if (Frame.Mdiluke.curElement.equals("火") && Frame.Mdiluke.ifLive) {
                                Frame.Mdiluke.blood -= WaterZhengfa;
                                Frame.Mdiluke.curElement = "无";
                                jTextArea.append("造成蒸发,敌方对你的迪卢克造成了" + WaterZhengfa + "点伤害\n");
                            } else {
                                if (Frame.Mdiluke.ifLive) {
                                    Frame.Mdiluke.blood -= pugong;
                                    Frame.Mdiluke.curElement = Frame.Dxingqiu.element;
                                    jTextArea.append("攻击成功,敌方对你的迪卢克造成了" + pugong + "点伤害\n");
                                }
                            }
                        }
                        //攻击了敌方行秋
                        if (fightWho == 2) {
                            System.out.println("点击了攻击敌方行秋");
                            if (Frame.Mxingqiu.curElement.equals("雷") && Frame.Mxingqiu.ifLive) {
                                Frame.Mxingqiu.blood -= chaozai;
                                Frame.Mxingqiu.curElement = "无";
                                Frame.Mdiluke.blood -= 1;
                                Frame.Mhuangnv.blood -= 1;
                                jTextArea.append("激发感电,敌方对你的行秋,迪卢克和皇女分别造成了" + chaozai + "点,1点,1点伤害\n");

                            } else if (Frame.Mxingqiu.curElement.equals("火") && Frame.Mxingqiu.ifLive) {
                                Frame.Mxingqiu.blood -= WaterZhengfa;
                                Frame.Mxingqiu.curElement = "无";
                                jTextArea.append("造成蒸发,敌方对你的行秋造成了" + WaterZhengfa + "点伤害\n");

                            } else {
                                if (Frame.Mxingqiu.ifLive) {
                                    Frame.Mxingqiu.blood -= pugong;
                                    Frame.Mxingqiu.curElement = Frame.Dxingqiu.element;
                                    jTextArea.append("攻击成功,敌方对你的行秋造成了" + pugong + "点伤害\n");
                                }


                            }
                        }
                        //攻击了敌方皇女
                        if (fightWho == 3) {
                            System.out.println("点击了攻击敌方皇女");
                            if (Frame.Mhuangnv.curElement.equals("雷") && Frame.Mhuangnv.ifLive) {
                                Frame.Mhuangnv.blood -= chaozai;
                                Frame.Mxingqiu.blood -= 1;
                                Frame.Mhuangnv.curElement = "无";
                                jTextArea.append("激发感电,敌方对你的皇女,行秋分别造成了" + chaozai + "点,1点伤害\n");

                            } else if (Frame.Mhuangnv.curElement.equals("火") && Frame.Mhuangnv.ifLive) {
                                Frame.Mhuangnv.blood -= WaterZhengfa;
                                Frame.Mhuangnv.curElement = "无";
                                jTextArea.append("造成蒸发,敌方对你的皇女造成了" + WaterZhengfa + "点伤害\n");

                            } else {
                                if (Frame.Mhuangnv.ifLive) {
                                    Frame.Mhuangnv.blood -= pugong;
                                    Frame.Mhuangnv.curElement = Frame.Dxingqiu.element;
                                    jTextArea.append("攻击成功,敌方对你的皇女造成了" + pugong + "点伤害\n");
                                }


                            }
                        }
                    } else if (Frame.DCurrent == Frame.HUANGNV) {
                        //攻击了敌方迪卢克
                        if (fightWho == 1) {
                            if (Frame.Mdiluke.curElement.equals("水") && Frame.Mdiluke.ifLive) {
                                Frame.Mdiluke.blood -= chaozai;
                                Frame.Mdiluke.curElement = "无";
                                Frame.Mxingqiu.blood -= 1;
                                jTextArea.append("激发感电,敌方对你的迪卢克,行秋分别造成了" + chaozai + "点,1点伤害\n");

                            } else if (Frame.Mdiluke.curElement.equals("火") && Frame.Mdiluke.ifLive) {
                                Frame.Mdiluke.blood -= chaozai;
                                Frame.Mdiluke.curElement = "无";
                                changeFightCharacter();
                                jTextArea.append("激发超载,敌方对你的迪卢克造成了" + chaozai + "点伤害,并改变敌方上场角色\n");

                            } else {
                                if (Frame.Mdiluke.ifLive) {
                                    Frame.Mdiluke.blood -= pugong;
                                    Frame.Mdiluke.curElement = Frame.Dhuangnv.element;
                                    jTextArea.append("攻击成功,敌方对你的迪卢克造成了" + pugong + "点伤害\n");

                                }

                            }
                        }
                        //攻击了敌方行秋
                        if (fightWho == 2) {
                            System.out.println("点击了攻击敌方行秋");
                            if (Frame.Mxingqiu.curElement.equals("水") && Frame.Mxingqiu.ifLive) {
                                Frame.Mxingqiu.blood -= chaozai;
                                Frame.Mxingqiu.curElement = "无";
                                Frame.Mdiluke.blood -= 1;
                                Frame.Mhuangnv.blood -= 1;
                                jTextArea.append("激发感电,敌方对你的行秋,敌方迪卢克和皇女分别造成了" + chaozai + "点,1点,1点伤害\n");

                            } else if (Frame.Mxingqiu.curElement.equals("火") && Frame.Mxingqiu.ifLive) {
                                Frame.Mxingqiu.blood -= chaozai;
                                Frame.Mxingqiu.curElement = "无";
                                changeFightCharacter();
                                jTextArea.append("激发超载,敌方对你的行秋造成了" + chaozai + "点伤害,并改变敌方上场角色\n");

                            } else {
                                if (Frame.Mxingqiu.ifLive) {
                                    Frame.Mxingqiu.blood -= pugong;
                                    Frame.Mxingqiu.curElement = Frame.Dhuangnv.element;
                                    jTextArea.append("攻击成功,敌方对你的行秋造成了" + pugong + "点伤害\n");
                                }

                            }
                        }
                        //攻击了敌方皇女
                        if (fightWho == 3) {
                            System.out.println("点击了攻击敌方皇女");
                            if (Frame.Mhuangnv.curElement.equals("水") && Frame.Mhuangnv.ifLive) {
                                Frame.Mhuangnv.blood -= chaozai;
                                Frame.Mhuangnv.curElement = "无";
                                Frame.Mxingqiu.blood -= 1;
                                jTextArea.append("激发感电,敌方对你的皇女,行秋分别造成了" + chaozai + "点,1点伤害\n");

                            } else if (Frame.Mhuangnv.curElement.equals("火") && Frame.Mhuangnv.ifLive) {
                                Frame.Mhuangnv.blood -= chaozai;
                                Frame.Mhuangnv.curElement = "无";
                                changeFightCharacter();
                                jTextArea.append("激发超载,敌方对你的皇女造成了" + chaozai + "点伤害,并改变敌方上场角色\n");

                            } else {
                                if (Frame.Mhuangnv.ifLive) {
                                    Frame.Mhuangnv.blood -= pugong;
                                    Frame.Mhuangnv.curElement = Frame.Dhuangnv.element;
                                    jTextArea.append("攻击成功,敌方对你的皇女造成了" + pugong + "点伤害\n");
                                }
                            }
                        }
                    }
                }
            }
        } else if(Frame.wanjiaIsGiveup){
            System.out.println("玩家放弃，进入循环");
            int index=0;
            while (Frame.DshaiziNums >= 2) {
                System.out.println("我在进循环的时候看看"+Frame.DshaiziNums);
                Frame.DshaiziNums -= 2;
                int tmp = r.nextInt(3);
                //换位置
                if (tmp != 0&&Frame.Ddiluke.ifLive&&Frame.Dhuangnv.ifLive&&Frame.Dxingqiu.ifLive) {
                    if (Frame.DCurrent == 1) {
                        Frame.DCurrent = 2;
                    } else if (Frame.DCurrent == 3) {
                        Frame.DCurrent = 2;
                    } else {
                        int tmp2 = r.nextInt(2);
                        if (tmp2 == 0) {
                            Frame.DCurrent--;
                        } else {
                            Frame.DCurrent++;
                        }
                    }
                    jTextArea.append("敌方进行了一次换位置\n");
                }//攻击
                else {
                    int fightWho = r.nextInt(3) + 1;
                    if (Frame.DshaiziNums < 2) {
                        Frame.EgiveUp = true;
                        jTextArea.append("敌方放弃这回合\n");
                    } else {
                        if (Frame.DCurrent == Frame.DILUKE) {
                            //攻击了敌方迪卢克
                            if (fightWho == 1) {
                                if (Frame.Mdiluke.curElement.equals("雷") && Frame.Mdiluke.ifLive) {
                                    Frame.Mdiluke.blood -= chaozai;
                                    Frame.Mdiluke.curElement = "无";
                                    //改变敌方上场角色
                                    changeFightCharacter();
                                    jTextArea.append("激发超载,敌方对你迪卢克造成了" + chaozai + "点伤害,并改变你上场角色\n");
                                } else if (Frame.Mdiluke.curElement.equals("水") && Frame.Mdiluke.ifLive) {
                                    Frame.Mdiluke.blood -= FireZhengfa;
                                    Frame.Mdiluke.curElement = "无";
                                    jTextArea.append("造成蒸发,敌方对你迪卢克造成了" + FireZhengfa + "点伤害\n");
                                } else {
                                    if (Frame.Mdiluke.ifLive) {
                                        Frame.Mdiluke.blood -= pugong;
                                        Frame.Mdiluke.curElement = Frame.Ddiluke.element;
                                        jTextArea.append("攻击成功,敌方对你迪卢克造成了" + pugong + "点伤害\n");
                                    }
                                }
                            }
                            //攻击了敌方行秋
                            if (fightWho == 2) {
                                System.out.println("点击了攻击敌方行秋");
                                if (Frame.Mxingqiu.curElement.equals("雷") && Frame.Mxingqiu.ifLive) {
                                    Frame.Mxingqiu.blood -= chaozai;
                                    Frame.Mxingqiu.curElement = "无";
                                    //改变敌方上场角色
                                    changeFightCharacter();
                                    jTextArea.append("激发超载,敌方对你的行秋造成了" + chaozai + "点伤害,并改变你的上场角色\n");
                                } else if (Frame.Mxingqiu.curElement.equals("水") && Frame.Mxingqiu.ifLive) {
                                    Frame.Mxingqiu.blood -= FireZhengfa;
                                    Frame.Mxingqiu.curElement = "无";
                                    jTextArea.append("造成蒸发,敌方对你的行秋造成了" + FireZhengfa + "点伤害\n");
                                } else {
                                    if (Frame.Mxingqiu.ifLive) {
                                        Frame.Mxingqiu.blood -= pugong;
                                        Frame.Mxingqiu.curElement = Frame.Dxingqiu.element;
                                        jTextArea.append("攻击成功,敌方对你的行秋造成了" + pugong + "\n");
                                    }

                                }
                            }
                            //攻击了敌方皇女
                            if (fightWho == 3) {
                                System.out.println("点击了攻击敌方皇女");
                                if (Frame.Mhuangnv.curElement.equals("雷") && Frame.Mhuangnv.ifLive) {
                                    Frame.Mhuangnv.blood -= chaozai;
                                    Frame.Mhuangnv.curElement = "无";
                                    //改变敌方上场角色
                                    changeFightCharacter();
                                    jTextArea.append("激发超载,敌方对你皇女造成了" + chaozai + "点伤害,并改变你的上场角色\n");
                                } else if (Frame.Mhuangnv.curElement.equals("水") && Frame.Mhuangnv.ifLive) {
                                    Frame.Mhuangnv.blood -= FireZhengfa;
                                    Frame.Mhuangnv.curElement = "无";
                                    jTextArea.append("造成蒸发,敌方对你的皇女造成了" + FireZhengfa + "点伤害\n");
                                } else {
                                    if (Frame.Mhuangnv.ifLive) {
                                        Frame.Mhuangnv.blood -= pugong;
                                        Frame.Mhuangnv.curElement = Frame.Ddiluke.element;
                                        jTextArea.append("攻击成功,敌方对你的皇女造成了" + pugong + "点伤害\n");
                                    }

                                }
                            }
                        } else if (Frame.DCurrent == Frame.XINGQIU) {
                            //攻击了敌方迪卢克
                            if (fightWho == 1) {
                                if (Frame.Mdiluke.curElement.equals("雷") && Frame.Mdiluke.ifLive) {
                                    Frame.Mdiluke.blood -= chaozai;
                                    Frame.Mdiluke.curElement = "无";
                                    Frame.Mxingqiu.blood -= 1;
                                    jTextArea.append("激发感电,敌方对你的迪卢克,行秋分别造成了" + chaozai + "点,1点伤害\n");
                                } else if (Frame.Mdiluke.curElement.equals("火") && Frame.Mdiluke.ifLive) {
                                    Frame.Mdiluke.blood -= WaterZhengfa;
                                    Frame.Mdiluke.curElement = "无";
                                    jTextArea.append("造成蒸发,敌方对你的迪卢克造成了" + WaterZhengfa + "点伤害\n");
                                } else {
                                    if (Frame.Mdiluke.ifLive) {
                                        Frame.Mdiluke.blood -= pugong;
                                        Frame.Mdiluke.curElement = Frame.Dxingqiu.element;
                                        jTextArea.append("攻击成功,敌方对你的迪卢克造成了" + pugong + "点伤害\n");
                                    }
                                }
                            }
                            //攻击了敌方行秋
                            if (fightWho == 2) {
                                System.out.println("点击了攻击敌方行秋");
                                if (Frame.Mxingqiu.curElement.equals("雷") && Frame.Mxingqiu.ifLive) {
                                    Frame.Mxingqiu.blood -= chaozai;
                                    Frame.Mxingqiu.curElement = "无";
                                    Frame.Mdiluke.blood -= 1;
                                    Frame.Mhuangnv.blood -= 1;
                                    jTextArea.append("激发感电,敌方对你的行秋,迪卢克和皇女分别造成了" + chaozai + "点,1点,1点伤害\n");

                                } else if (Frame.Mxingqiu.curElement.equals("火") && Frame.Mxingqiu.ifLive) {
                                    Frame.Mxingqiu.blood -= WaterZhengfa;
                                    Frame.Mxingqiu.curElement = "无";
                                    jTextArea.append("造成蒸发,敌方对你的行秋造成了" + WaterZhengfa + "点伤害\n");

                                } else {
                                    if (Frame.Mxingqiu.ifLive) {
                                        Frame.Mxingqiu.blood -= pugong;
                                        Frame.Mxingqiu.curElement = Frame.Dxingqiu.element;
                                        jTextArea.append("攻击成功,敌方对你的行秋造成了" + pugong + "点伤害\n");
                                    }


                                }
                            }
                            //攻击了敌方皇女
                            if (fightWho == 3) {
                                System.out.println("点击了攻击敌方皇女");
                                if (Frame.Mhuangnv.curElement.equals("雷") && Frame.Mhuangnv.ifLive) {
                                    Frame.Mhuangnv.blood -= chaozai;
                                    Frame.Mxingqiu.blood -= 1;
                                    Frame.Mhuangnv.curElement = "无";
                                    jTextArea.append("激发感电,敌方对你的皇女,行秋分别造成了" + chaozai + "点,1点伤害\n");

                                } else if (Frame.Mhuangnv.curElement.equals("火") && Frame.Mhuangnv.ifLive) {
                                    Frame.Mhuangnv.blood -= WaterZhengfa;
                                    Frame.Mhuangnv.curElement = "无";
                                    jTextArea.append("造成蒸发,敌方对你的皇女造成了" + WaterZhengfa + "点伤害\n");

                                } else {
                                    if (Frame.Mhuangnv.ifLive) {
                                        Frame.Mhuangnv.blood -= pugong;
                                        Frame.Mhuangnv.curElement = Frame.Dxingqiu.element;
                                        jTextArea.append("攻击成功,敌方对你的皇女造成了" + pugong + "点伤害\n");
                                    }


                                }
                            }
                        } else if (Frame.DCurrent == Frame.HUANGNV) {
                            //攻击了敌方迪卢克
                            if (fightWho == 1) {
                                if (Frame.Mdiluke.curElement.equals("水") && Frame.Mdiluke.ifLive) {
                                    Frame.Mdiluke.blood -= chaozai;
                                    Frame.Mdiluke.curElement = "无";
                                    Frame.Mxingqiu.blood -= 1;
                                    jTextArea.append("激发感电,敌方对你的迪卢克,行秋分别造成了" + chaozai + "点,1点伤害\n");

                                } else if (Frame.Mdiluke.curElement.equals("火") && Frame.Mdiluke.ifLive) {
                                    Frame.Mdiluke.blood -= chaozai;
                                    Frame.Mdiluke.curElement = "无";
                                    changeFightCharacter();
                                    jTextArea.append("激发超载,敌方对你的迪卢克造成了" + chaozai + "点伤害,并改变敌方上场角色\n");

                                } else {
                                    if (Frame.Mdiluke.ifLive) {
                                        Frame.Mdiluke.blood -= pugong;
                                        Frame.Mdiluke.curElement = Frame.Dhuangnv.element;
                                        jTextArea.append("攻击成功,敌方对你的迪卢克造成了" + pugong + "点伤害\n");

                                    }

                                }
                            }
                            //攻击了敌方行秋
                            if (fightWho == 2) {
                                System.out.println("点击了攻击敌方行秋");
                                if (Frame.Mxingqiu.curElement.equals("水") && Frame.Mxingqiu.ifLive) {
                                    Frame.Mxingqiu.blood -= chaozai;
                                    Frame.Mxingqiu.curElement = "无";
                                    Frame.Mdiluke.blood -= 1;
                                    Frame.Mhuangnv.blood -= 1;
                                    jTextArea.append("激发感电,敌方对你的行秋,敌方迪卢克和皇女分别造成了" + chaozai + "点,1点,1点伤害\n");

                                } else if (Frame.Mxingqiu.curElement.equals("火") && Frame.Mxingqiu.ifLive) {
                                    Frame.Mxingqiu.blood -= chaozai;
                                    Frame.Mxingqiu.curElement = "无";
                                    changeFightCharacter();
                                    jTextArea.append("激发超载,敌方对你的行秋造成了" + chaozai + "点伤害,并改变敌方上场角色\n");

                                } else {
                                    if (Frame.Mxingqiu.ifLive) {
                                        Frame.Mxingqiu.blood -= pugong;
                                        Frame.Mxingqiu.curElement = Frame.Dhuangnv.element;
                                        jTextArea.append("攻击成功,敌方对你的行秋造成了" + pugong + "点伤害\n");
                                    }

                                }
                            }
                            //攻击了敌方皇女
                            if (fightWho == 3) {
                                System.out.println("点击了攻击敌方皇女");
                                if (Frame.Mhuangnv.curElement.equals("水") && Frame.Mhuangnv.ifLive) {
                                    Frame.Mhuangnv.blood -= chaozai;
                                    Frame.Mhuangnv.curElement = "无";
                                    Frame.Mxingqiu.blood -= 1;
                                    jTextArea.append("激发感电,敌方对你的皇女,行秋分别造成了" + chaozai + "点,1点伤害\n");

                                } else if (Frame.Mhuangnv.curElement.equals("火") && Frame.Mhuangnv.ifLive) {
                                    Frame.Mhuangnv.blood -= chaozai;
                                    Frame.Mhuangnv.curElement = "无";
                                    changeFightCharacter();
                                    jTextArea.append("激发超载,敌方对你的皇女造成了" + chaozai + "点伤害,并改变敌方上场角色\n");

                                } else {
                                    if (Frame.Mhuangnv.ifLive) {
                                        Frame.Mhuangnv.blood -= pugong;
                                        Frame.Mhuangnv.curElement = Frame.Dhuangnv.element;
                                        jTextArea.append("攻击成功,敌方对你的皇女造成了" + pugong + "点伤害\n");
                                    }
                                }
                            }
                        }
                    }
                }

            }
        }
```
### 敌方攻击太长不想看了点我！
## 主页面那三个掌管攻击换人和结束的按钮和道具使用的实现

```java
    @Override
    public void actionPerformed(ActionEvent e) {
        //开始攻击
        Object choice=e.getSource();
        if(choice==jt1){
            System.out.println("点击了攻击");
                if(MshaiziNums<2){
                    showJDialog("点数不够,请重新选择");
                }else{
                    new Fight(Mdiluke,Mxingqiu,Mhuangnv,Ddiluke,Dxingqiu,Dhuangnv);
                    this.setVisible(false);
                }
        }
        //换人
        else if(choice==jt2){
            this.setVisible(false);
            new changePerson();
        }
        //结束这一轮
        else if(choice==jt3){
            System.out.println("玩家放弃");
            wanjiaIsGiveup=true;
            this.setVisible(false);
            System.out.println("我在主框架看看"+DshaiziNums);
            new enemyFight();
            wanjiaIsGiveup=false;
        }
        //使用道具
        else if(choice==useTool){
            int index=toolList.getSelectedRow();
            if(index==-1){
                showJDialog("请选择道具");
            }else{
                String tool = toolsHave.get(index).split("&")[0];
                toolsHave.remove(index);
                if(tool.equals("狼末")){
                    showJDialog("道具使用成功!");
                    Mdiluke.tool=true;
                    langM.setVisible(true);
                }else if(tool.equals("最好的伙伴!")){
                    showJDialog("道具使用成功!");
                    theBestFriend.setVisible(true);
                    partnerNums=3;
                    MshaiziNums+=2;
                }else if(tool.equals("蒙德土豆饼")){
                    showJDialog("道具使用成功!");
                    if (Mdiluke.blood!=10){
                        Mdiluke.blood++;
                    }
                    if (Mxingqiu.blood!=10){
                        Mxingqiu.blood++;
                    }
                    if (Mhuangnv.blood!=10){
                        Mhuangnv.blood++;
                    }
                }
                this.setVisible(false);
                new Frame();
            }
        }

    }
```
**partnerNums**就是最好的伙伴道具卡还能用几回合

## 总结
这次分享就到这里，感谢你的收看！	
